<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Robotics Club Registration</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.3/css/bulma.min.css">
  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-firestore.js"></script>
  <style>
    .section {
      margin-top: 20px;
    }
  </style>
</head>
<body>

<!-- Header -->
<nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="/">
      <img src="https://via.placeholder.com/100x30?text=Robotics+Club" alt="Robotics Club Logo">
    </a>
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div id="navbarBasicExample" class="navbar-menu">
    <div class="navbar-start">
      <a class="navbar-item" href="#">
        Projects
      </a>
      <a class="navbar-item" href="#">
        Components
      </a>
      <a class="navbar-item" href="#">
        Events
      </a>
      <a class="navbar-item" href="#">
        Members
      </a>
      <a class="navbar-item" href="#">
        Gallery
      </a>
    </div>
  </div>
</nav>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="modal-background" onclick="closeModal()"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title"></p>
      <button class="delete" aria-label="close" onclick="closeModal()"></button>
    </header>
    <section class="modal-card-body">
      <h1 class="is-size-5">Registration complete</h1>
      <p class="has-text-danger has-text-weight-semibold">
        A warm welcome to you to join us!
      </p>
      <br />
      <p>
        We hope youâ€™ll make the best use of your skills and knowledge and make
        sure something great is achieved!
      </p>
    </section>
    <footer class="modal-card-foot">
      <a class="button is-success" href="/">Home</a>
      <button class="button" onclick="closeModal()">Close</button>
    </footer>
  </div>
</div>

<!-- Main Section -->
<div class="section">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-two-thirds-tablet is-half-desktop">
        <h1 class="title">Robotics Club registration form</h1>
        <h3 class="subtitle">
          Fill the form below to register yourself as a member
        </h3>

        <span>A membership fee of </span>
        <span class="icon is-small"><i class="fa fa-rupee-sign"></i></span>
        <span class="has-text-weight-semibold">200</span>
        <span> needs to be paid offline or in Google form integrated QR </span>

        <hr />

        <p class="is-size-7 has-text-weight-semibold">
          Special perks for members:
        </p>
        <ol class="is-size-7">
          <li>Members can issue various components from the club inventory to make their own projects</li>
          <li>Members can collaborate with other members of the club & get funds from the institution for large projects</li>
          <li>Members can attend seminars and workshops held in the club to learn about robotics</li>
          <li>Members can participate in various robotics competitions on behalf of the robotics club</li>
        </ol>

        <hr />

        <form name="submit-to-google-sheet">
          <div class="field">
            <label class="label">Name</label>
            <div class="control">
              <input name="fullname" required autocomplete="name" class="input" type="text" placeholder="Your full name" />
            </div>
          </div>

          <div class="field">
            <label class="label">College mail</label>
            <div class="control has-icons-left">
              <input name="email" required autocomplete="email" class="input" type="email" placeholder="Valid email address" />
              <span class="icon is-small is-left">
                <i class="fas fa-envelope"></i>
              </span>
            </div>
          </div>

          <div class="field is-expanded">
            <label class="label">Phone</label>
            <div class="field has-addons">
              <p class="control">
                <a class="button is-static">
                  +91
                </a>
              </p>
              <p class="control is-expanded">
                <input name="phone" required autocomplete="tel-national" class="input" type="tel" placeholder="Your phone number" />
              </p>
            </div>
          </div>

          <div class="field">
            <label class="label">Module</label>
            <div class="control">
              <label class="radio">
                <input type="radio" required name="module" value="degree" />
                Degree
              </label>
              <label class="radio">
                <input type="radio" required name="module" value="diploma" />
                Diploma
              </label>
            </div>
          </div>

          <div class="field">
            <label class="label">Year</label>
            <div class="control">
              <div class="select">
                <select name="year" required>
                  <option value="1st">1st</option>
                  <option value="2nd">2nd</option>
                  <option value="3rd">3rd</option>
                  <option value="4th">4th</option>
                </select>
              </div>
            </div>
          </div>

          <div class="field">
            <label class="label">Branch</label>
            <div class="control">
              <div class="select">
                <select name="branch" required>
                  <option value="cse">CSE (Degree)</option>
                  <option value="ece">ECE (Degree)</option>
                  <option value="ie">IE (Degree)</option>
                  <option value="it">IT (Degree)</option>
                  <option value="fet">FET (Degree)</option>
                  <option value="ce">CE (Degree)</option>
                  <option value="mcd">MCD (Degree)</option>
                  <option value="co">CO (Diploma)</option>
                  <option value="et">ET (Diploma)</option>
                  <option value="ci">CI (Diploma)</option>
                  <option value="ct">CT (Diploma)</option>
                  <option value="fpt">FPT (Diploma)</option>
                  <option value="amt">AMT (Diploma)</option>
                </select>
              </div>
            </div>
          </div>

          <div class="field">
            <label class="label">Any previous experiences on robotics</label>
            <div class="control">
              <input name="experience" class="input" type="text" placeholder="Previous experiences if any" />
            </div>
          </div>

          <br />

          <div class="field is-grouped">
            <div class="control">
              <button type="submit" class="button is-link" id="submitButton">Submit</button>
            </div>
            <div class="control">
              <button type="reset" class="button">Cancel</button>
            </div>
          </div>
        </form>
        <br>
        <br>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="footer">
  <div class="content has-text-centered">
    <div class="columns is-mobile">
      <div class="column">
        <a href="#">Projects</a>
      </div>
      <div class="column">
        <a href="#">Events</a>
      </div>
      <div class="column">
        <a href="#">Members</a>
      </div>
      <div class="column">
        <a href="#">Components</a>
      </div>
      <div class="column">
        <a href="#">Gallery</a>
      </div>
    </div>
    <div class="columns is-mobile">
      <div class="column">
        <a href="#" class="button is-small is-danger is-rounded">
          <span class="icon">
            <i class="fab fa-youtube"></i>
          </span>
          <span>YouTube</span>
        </a>
      </div>
      <div class="column">
        <a href="#" class="button is-small is-primary is-rounded">
          <span class="icon">
            <i class="fab fa-facebook"></i>
          </span>
          <span>Facebook</span>
        </a>
      </div>
      <div class="column">
        <a href="#" class="button is-small is-info is-rounded">
          <span class="icon">
            <i class="fas fa-envelope"></i>
          </span>
          <span>Mail</span>
        </a>
      </div>
    </div>
    <div class="columns">
      <div class="column">
        <a href="#">Web developers</a>
      </div>
      <div class="column">
        <a href="#">CITK official site</a>
      </div>
    </div>
  </div>
</footer>

<!-- Firebase configuration and Firestore script -->
<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
        apiKey: "AIzaSyDnS3zS37uu-oac7-iw0TMFhMAyfywWHYk",
        authDomain: "myiot-a57f5.firebaseapp.com",
        databaseURL: "https://myiot-a57f5-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "myiot-a57f5",
        storageBucket: "myiot-a57f5.appspot.com",
        messagingSenderId: "542244698430",
        appId: "1:542244698430:web:d6bac550b8c0d1722e946f",
        measurementId: "G-GBH4J6ZRC1"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  var db = firebase.firestore();

  // Submit form
  document.querySelector('form[name="submit-to-google-sheet"]').addEventListener('submit', function(e) {
    e.preventDefault();
    db.collection("registrations").add({
      fullname: e.target.fullname.value,
      email: e.target.email.value,
      phone: e.target.phone.value,
      module: e.target.module.value,
      year: e.target.year.value,
      branch: e.target.branch.value,
      experience: e.target.experience.value
    })
    .then(function() {
      document.getElementById('modal').classList.add('is-active');
      e.target.reset();
    })
    .catch(function(error) {
      console.error("Error writing document: ", error);
    });
  });

  function closeModal() {
    document.getElementById('modal').classList.remove('is-active');
  }
</script>

</body>
</html>
